<template>
    <g :transform="transform" :opacity="opacity" fill="#000">
        <path d="M431.0127,142.6402c74.3971,3.4913,148.2741,17.4069,207.0815,66.4433c56.1282,46.8024,75.9016,130.5314,54.5483,199.7482
		c-4.8413,15.6932-12.4076,30.597-23.4238,42.868c-11.4164,12.7169-26.4301,20.6562-40.0543,30.6677
		c-9.0579,6.6561-31.7824,22.0625-25.8786,35.7132c2.9058,6.7187,11.8511,6.7732,14.0901,13.5287
		c2.0867,6.2956-2.6062,15.406-5.2985,20.8398c-5.9984,12.1061-18.7305,31.6458-33.4601,33.8258
		c-8.9951,1.3313-13.0942-3.5829-20.3699,4.4619c-6.363,7.0356-10.1929,16.6827-13.684,25.3676
		c-6.61,16.4438-11.9894,34.1662-13.3699,51.9296c-1.1183,14.3897,4.3395,32.3223-13.0779,38.8956
		c-8.7908,3.3177-37.901,4.2175-41.8747-5.5754c-2.6907-6.6309,0.9306-17.864,1.2462-24.8056
		c0.4223-9.2884-0.5911-18.1829-6.1751-25.8241c-2.4907-3.4082-10.4166-14.6945-14.9731-15.1304
		c-6.731-0.6437-3.6017,13.4337-2.9997,17.5187c1.3121,8.9034,2.3678,17.9031,3.0978,26.8741
		c0.4325,5.3142,3.0281,18.9948-0.149,23.6182c-2.6698,3.8853-16.0146,5.6125-19.9721,6.374
		c-8.437,1.6233-16.1102,0.3212-23.6841-3.7694c-9.3337-5.041-7.8163-6.72-6.759-16.4239
		c1.0942-10.0428,1.5311-20.2581,2.4294-30.3394c0.3401-3.8167,3.7237-20.9073,0.7075-23.3309
		c-4.2817-3.4406-12.7855,8.4883-15.3258,11.6028c-12.7816,15.6706-6.1585,30.9409-7.0044,49.2099
		c-0.3806,8.2203-4.5929,9.7095-12.5656,10.6124c-7.7129,0.8735-18.0013,2.3446-25.6281,0.4039
		c-18.3125-4.6598-16.504-22.0547-17.1908-36.913c-0.8271-17.8952-5.4261-35.968-12.1198-52.5303
		c-4.976-12.3123-12.2434-34.2608-27.9107-32.8735c-16.0591,1.422-27.0783-10.4249-34.7639-24.0475
		c-3.29-5.8315-7.7747-14.6716-6.1346-21.6179c1.6799-7.1153,9.2076-6.5278,12.0081-12.6864
		c6.1449-13.5132-15.1463-30.4064-23.6507-37.6083c-13.7679-11.6593-29.593-21.4835-41.7006-34.9443
		c-47.2164-52.4931-42.6168-145.8057-9.1137-204.0889c36.8684-64.1377,114.839-92.7016,184.257-103.2852
		C391.649,144.3789,411.3016,142.7615,431.0127,142.6402z M398.1353,412.3412c-0.0439-34.1866-27.045-69.1295-57.4852-83.0646
		c-38.4605-17.6068-64.6344,22.6594-63.9718,57.5233c0.6614,34.8015,20.6078,83.149,56.1426,95.7768
		C372.2608,496.5922,397.8752,445.1183,398.1353,412.3412z M596.1588,381.0022c-4.0255-36.9774-33.1408-67.8557-71.4308-47.6684
		c-28.6212,15.0897-56.2541,49.2842-52.0463,83.3982c4.1832,33.9149,29.197,80.8761,69.4541,61.4342
		C576.2777,461.6775,594.9134,416.7947,596.1588,381.0022z M474.2471,566.9007c-1.5868-20.2804-4.5149-50.3139-18.6657-66.1947
		c-18.657-20.9379-33.1819,9.5907-40.2179,23.748c-4.8542,9.7672-8.46,20.1096-10.3847,30.8586
		c-2.179,12.1689-0.78,16.0202,11.4987,13.3884c11.5024-2.4655,23.3716-6.0474,35.1653-3.3346
		C458.2701,566.8908,473.4547,580.3821,474.2471,566.9007z"></path>
        <path d="M156.3999,351.7097c-15.5013-6.623-32.1595-14.6831-49.4804-12.9078c-18.8324,1.9302-29.5706,14.978-43.3475,26.0506
		c-5.6155,4.5132-13.1483,10.5874-20.8976,9.9706c-7.9779-0.635-13.1602-7.5984-16.8578-13.9377
		c-9.1971-15.7681-11.9927-35.624,1.1296-50.047c5.9359-6.5243,13.1194-9.9299,20.6623-14.1353
		c6.5773-3.6671,12.9159-7.8649,12.2861-16.2009c-0.6303-8.343-6.5474-16.2265-8.4242-24.4156
		c-2.2565-9.8456-1.7749-19.8607,1.0746-29.5238c2.123-7.1994,5.1325-14.9698,13.1363-17.0882
		c8.5296-2.2576,17.1523,2.7626,23.2612,8.2705c13.5699,12.2351,16.3498,31.5284,24.5984,47.037
		c4.5054,8.4707,10.2195,16.7768,18.8881,21.3742c4.234,2.2455,8.6713,3.3566,13.442,3.7248
		c4.0309,0.3111,9.6238-0.9354,13.4028,0.8134c6.1185,2.8315,1.5492-0.5479,2.8909,2.6997
		c0.9372,2.2685-1.0641,8.1439-1.4264,10.8482c-0.7477,5.5806-1.5401,11.1403-2.5655,16.6768
		C156.2406,331.3518,155.6981,341.12,156.3999,351.7097z"></path>
        <path d="M708.9776,350.005c-0.2727-9.3105-0.4324-18.4781-2.6236-27.589c-2.0065-8.3434-7.3118-19.7637-6.2343-28.4363
		c0.6097-4.908-0.8426-2.9585,3.563-4.9164c1.7133-0.7614,3.8238-0.6416,5.6581-0.8542c3.7958-0.4401,7.5352-0.4227,11.2634-1.3728
		c7.8739-2.0066,13.894-6.8554,18.6798-13.2939c11.5666-15.5609,12.9742-35.3738,22.0843-52.1857
		c6.7697-12.493,26.5129-28.5972,38.4867-12.8546c10.4612,13.754,10.8361,33.9654,5.6008,49.6989
		c-2.2974,6.9044-6.9498,14.4142-2.7776,21.5718c4.4785,7.683,15.8409,9.612,23.0594,13.7866
		c15.4354,8.9268,22.7735,24.0571,19.4926,41.6429c-2.6133,14.0073-12.0389,35.8313-29.6942,29.4199
		c-17.9584-6.5216-28.7139-24.1452-47.7623-29.1715C746.9297,329.9507,727.0613,341.1172,708.9776,350.005z"></path>
        <path d="M247.5706,567.3129c0.8676,9.2389,1.8909,18.0914,4.639,27.0002c2.7266,8.8392,8.1475,18.9569,9.0017,28.1606
		c0.4736,5.1031,1.7476,2.6058-1.905,4.8415c-1.5287,0.9357-4.2287,1.257-6.0434,1.6269
		c-3.9735,0.8101-7.9256,1.0195-11.7918,2.3917c-6.9129,2.4536-12.4548,7.0789-16.4911,13.1713
		c-10.564,15.9448-11.4184,35.8703-18.2154,53.3433c-4.8051,12.3524-19.6497,29.7069-34.5754,21.2919
		c-14.7498-8.3157-16.6264-34.153-13.8989-48.6976c1.4706-7.8424,6.8544-17.6403,1.9646-25.2599
		c-4.3849-6.8329-14.2894-8.0009-21.2551-10.7601c-16.742-6.6315-27.346-20.6112-26.2905-38.9581
		c0.7605-13.2192,7.4567-36.8613,24.6336-34.7837c9.7025,1.1736,18.2297,8.5588,26.1091,13.7472
		c8.5251,5.6136,17.6191,10.6103,27.7945,12.376C212.0321,590.4111,230.8714,578.062,247.5706,567.3129z"></path>
        <path d="M604.3582,626.0378c5.1043-19.6579,12.7817-38.3,14.4904-58.6872c14.0959,8.6582,28.89,19.2543,46.0117,20.0573
		c17.9402,0.8414,31.6235-9.3724,46.0974-18.3323c14.3532-8.8851,28.8655-13.3751,37.2638,5.2729
		c5.9366,13.1819,8.4761,29.9988,0.5466,42.8672c-8.6868,14.0975-23.0479,15.4902-36.3152,22.7869
		c-15.5142,8.5323-3.8458,25.3734-3.1911,38.7571c0.6191,12.6555-3.3459,34.4269-16.0981,40.8385
		c-14.2722,7.1758-28.3322-9.4146-33.2961-20.9034c-6.7443-15.6093-7.5518-32.8047-14.9922-48.1629
		c-3.2525-6.7137-7.6437-12.6673-14.1452-16.5665C622.4933,629.0255,612.6911,630.4752,604.3582,626.0378z"></path>
    </g>
</template>

<script>
    import {mapGetters} from 'vuex';
    import TWEEN from '@tweenjs/tween.js';

    export default {
        name: "BattlefieldDeath",
        props: {
            deathCoords: {
                type: Object,
                required: true
            }
        },
        data() {
            return {
                scale: 0,
                iconX: 0,
                iconY: 0,
                opacity: 0,
                initialScale: .08
            }
        },
        created() {
            this.renderAnimations();
        },
        methods: {
            renderAnimations() {
                this.scale = this.initialScale;
                this.iconX = this.deathCoords.x - 35;
                this.iconY = this.deathCoords.y - 35;
                this.opacity = 1;

                function animate () {
                    if (TWEEN.update()) {
                        requestAnimationFrame(animate)
                    }
                }

                let tweenA = new TWEEN.Tween(this.$data)
                    .to({
                        scale: this.initialScale * 2.5,
                        iconX: this.deathCoords.x - 70,
                        iconY: this.deathCoords.y - 70
                    }, this._battlefieldSpeed)
                    .easing(TWEEN.Easing.Elastic.Out);

                let tweenB = new TWEEN.Tween(this.$data)
                    .to({
                        scale: this.initialScale,
                        iconX: this.deathCoords.x - 35,
                        iconY: this.deathCoords.y - 35,
                        opacity: 0.4
                    }, this._battlefieldSpeed * 5);

                tweenA.chain(tweenB).start();

                animate();
            }
        },
        computed: {
            ...mapGetters([
                '_battlefieldSpeed'
            ]),
            transform() {
                return 'translate('+ this.iconX + ',' + this.iconY + ') scale(' + this.scale + ')';
            }
        }

    }
</script>

<style scoped>

</style>
